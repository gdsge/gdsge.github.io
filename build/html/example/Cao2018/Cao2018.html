

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Cao (2018): Speculation and Wealth Distribution under Beliefs Heterogeneity &mdash; GDSGE Homepage</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Cao (2020): Continuum versus Finite Agents in Krusell and Smith (1998)" href="../Cao2020/Cao2020.html" />
    <link rel="prev" title="Cao and Nie (2017): Amplification and Asymmetry without Collateral Constraint" href="../KM1997/CaoNie2017.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> GDSGE
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../lectures.html">Lectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rbc/rbc.html">Getting Started - A Simple RBC Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rbc/rbcIrr.html">An RBC Model with Irreversible Investment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../HL1996/HL1996.html">Heaton and Lucas (1996): Incomplete Markets with Portfolio Choices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Guvenen2009/Guvenen2009.html">Guvenen (2009): Asset Pricing with Heterogeneous IES</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Bianchi2011/Bianchi2011.html">Bianchi (2011): Sudden Stops in Open Economies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../safe_assets/safe_assets.html">Barro et al. (2017): Safe Assets with Rare Disasters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pandemic/GLSW2020.html">Guerrieri et al. (2020): Negative Supply Shocks That Cause Demand Shortages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../usage/functions.html">Toolbox API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../AdditionalExamples.html">Additional Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../Huggett1997/Huggett1997.html">Huggett (1997): Steady States and Transition Paths in Heterogeneous Agent Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../KS1998/KS1998.html">Krusell and Smith (1998): Heterogeneous Agent Models with Aggregate Uncertainty</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Mendoza2010/Mendoza2010.html">Mendoza (2010): Sudden Stops with Asset Price Deflation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../KM1997/CaoNie2017.html">Cao and Nie (2017): Amplification and Asymmetry without Collateral Constraint</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Cao (2018): Speculation and Wealth Distribution under Beliefs Heterogeneity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#the-model">The Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-gmod-file">The gmod file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#results">Results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Cao2020/Cao2020.html">Cao (2020): Continuum versus Finite Agents in Krusell and Smith (1998)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multi_country_rbc/multi_country_rbc.html">A Multi-country Business Cycle Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ZLB/zlb.html">A New-Keynesian Model with an Occasionally Binding Interest Rate Zero Lower Bound</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ContributedExamples.html">Contributed Examples</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">GDSGE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../AdditionalExamples.html">Additional Examples</a> &raquo;</li>
        
      <li>Cao (2018): Speculation and Wealth Distribution under Beliefs Heterogeneity</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cao-2018-speculation-and-wealth-distribution-under-beliefs-heterogeneity">
<h1>Cao (2018): Speculation and Wealth Distribution under Beliefs Heterogeneity<a class="headerlink" href="#cao-2018-speculation-and-wealth-distribution-under-beliefs-heterogeneity" title="Permalink to this headline">¶</a></h1>
<p>The models that we have seen so far are models with rational expectations. Our toolbox can be used to solve models without rational expectations. A recent example is <a class="reference external" href="https://academic.oup.com/ej/article/128/614/2258/5230957">Cao (2018)</a>.</p>
<div class="section" id="the-model">
<h2>The Model<a class="headerlink" href="#the-model" title="Permalink to this headline">¶</a></h2>
<p>The model in <a class="reference external" href="https://academic.oup.com/ej/article/128/614/2258/5230957">Cao (2018)</a> is
similar to the one in <a class="reference external" href="https://www.journals.uchicago.edu/doi/10.1086/262030">Heaton and Lucas (1996)</a> with several main differences.
First and foremost, the two representative agents might differ in their beliefs on the transition matrix for the exogenous Markov process.
Therefore, it departs from the rational expectations assumption. <a class="reference external" href="https://academic.oup.com/ej/article/128/614/2258/5230957">Cao (2018)</a> uses agent index <span class="math notranslate nohighlight">\(i\in \{\text{O},\text{P}\}\)</span>, which stands for optimists or pessimists.
Second, the agents  are subject to a collateral constraint, besides the short-selling constraint:</p>
<div class="math notranslate nohighlight">
\[b^i_{t+1}+(1-m)s^i_{t+1}\min_{z^{t+1}|z^t}(p^s_{t+1}+d_{t+1})\geq0,\]</div>
<p>where <span class="math notranslate nohighlight">\(m\in(0,1)\)</span> denotes the margin requirement when agents purchase stock with leverage.</p>
<p>We use the toolbox to solve the version of the model in Example 4 in <a class="reference external" href="https://academic.oup.com/ej/article/128/614/2258/5230957">Cao (2018)</a> with <span class="math notranslate nohighlight">\(m=0.1\)</span>. The constraints imply that wealth shares always lie between <span class="math notranslate nohighlight">\(0\)</span> and <span class="math notranslate nohighlight">\(1\)</span>.</p>
</div>
<div class="section" id="the-gmod-file">
<h2>The gmod file<a class="headerlink" href="#the-gmod-file" title="Permalink to this headline">¶</a></h2>
<p>The model is solved with <a class="reference download internal" download="" href="../../_downloads/da6a4f2618ddbf62f849d72aca44485a/Cao2018_HL.gmod"><code class="xref download docutils literal notranslate"><span class="pre">Cao2018_HL.gmod</span></code></a></p>
<div class="highlight-GDSGE notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c">% Toolbox options</span>
SIMU_RESOLVE=0;SIMU_INTERP=1;

<span class="c">% Parameters</span>
<span class="k">parameters</span> beta1 beta2 sigma1 sigma2 shock_trans1 shock_trans2 Tg TP TO ql qh pl ph m eO;

beta1 = 0.95;
beta2 = 0.95;
sigma1 = 1.5;
sigma2 = 1.5;
m = 0.1;

<span class="k">var_shock</span> d e1 e2 g;
<span class="k">shock_num</span> = 4;
d = [0.20 0.20 0.15 0.15];
g = [0.9904 1.0470 0.9904 1.0470];
eO = 0.5;
e1 = eO*ones(1,4); <span class="c">%[0.5 0.5 0.5 0.5];</span>
e2 = (1-eO)*ones(1,4); <span class="c">%[0.5 0.5 0.5 0.5];</span>

<span class="c">% bounds for asset price</span>
ql = 1e-10*min(d)*min(beta1/(1-beta1),beta2/(1-beta2));
qh = max(d)*max(beta1/(1-beta1),beta2/(1-beta2));

pl = 1e-10*min(beta1,beta2);
ph = 10*max(beta1,beta2);

<span class="c">% States</span>
<span class="k">var_state</span> W;
WPts = 1000;
WMin=0;
WMax=1;
W=linspace(WMin,WMax,WPts);

Tg =[0.5885 0.4115;0.4115 0.5885];
TP = [0.5 0.5;0.5 0.5];
TO = [0.8 0.2;0.8 0.2];

<span class="k">shock_trans</span> = kron(TP,Tg);
<span class="k">shock_trans</span>1 = kron(TO,Tg);
shock_trans2 = <span class="k">shock_trans</span>;

<span class="c">% Tensor variables</span>
<span class="k">var_tensor</span> budget1 budget2 etotal;
budget1 = e1+d.*W;
budget2 = e2+d.*(1-W);
etotal = e1+e2+d; <span class="c">%etotal = 1</span>

% Endogenous variables, bounds, and <span class="k">initial</span> values
<span class="k">var_policy</span> p q c1 c2 lambda1 lambda2 mu1 mu2 kp1 a1 a2 Wp[4];

inbound p pl ph <span class="k">adaptive</span>(2);
inbound q ql qh <span class="k">adaptive</span>(2);
<span class="k">inbound</span> c1 1e-10 etotal;
<span class="k">inbound</span> c2 1e-10 etotal;
<span class="k">inbound</span> kp1 0 1;
<span class="k">inbound</span> lambda1 0 1;
<span class="k">inbound</span> lambda2 0 1;
<span class="k">inbound</span> mu1 0 1;
<span class="k">inbound</span> mu2 0 1;
<span class="k">inbound</span> a1 0 1;
<span class="k">inbound</span> a2 0 1;
<span class="k">inbound</span> Wp 0.0 1.0;

<span class="k">var_aux</span> bp1 bp2 Rq[4] equity_premium_1 equity_premium_2;
<span class="k">var_output</span> q p Wp;

<span class="k">var_interp</span> c1Future c2Future qFuture;
c1Future = c1;
c2Future = c2;
qFuture = q;

<span class="k">initial</span> c1Future budget1;
<span class="k">initial</span> c2Future budget2;
<span class="k">initial</span> qFuture 0;

<span class="k">model;</span>
  qp&#39; = qFuture&#39;(Wp&#39;)+d&#39;;
  qCC = <span class="k">GDSGE_MIN</span>{qp&#39;*g&#39;};
  c1p&#39; = c1Future&#39;(Wp&#39;);
  c2p&#39; = c2Future&#39;(Wp&#39;);

  <span class="c">% Transform of variable</span>
  bp1 = m*qCC*a1 - m*qCC*kp1;
  bp2 = m*qCC*a2 - m*qCC*(1-kp1);

  <span class="c">% Equations in text</span>
  eq1  = -1 + lambda1 + mu1*m*qCC*p/q+ beta1*GDSGE_EXPECT{qp&#39;*((g&#39;)^(1-sigma1))*((c1p&#39;)^(-sigma1))| <span class="k">shock_trans</span>1}/(q*(c1^(-sigma1)));
  eq2 = -1 + mu1 + beta1*GDSGE_EXPECT{((g&#39;)^(-sigma1))*((c1p&#39;)^(-sigma1))| <span class="k">shock_trans</span>1}/(p*(c1^(-sigma1)));
  eq3 = lambda1*kp1;
  eq4 = mu1*a1;
  eq5  = -1 + lambda2 + mu2*m*qCC*p/q+beta2*GDSGE_EXPECT{qp&#39;*((g&#39;)^(1-sigma2))*((c2p&#39;)^(-sigma2))| <span class="k">shock_trans</span>2}/(q*(c2^(-sigma2)));
  eq6 = -1 + mu2 + beta2*GDSGE_EXPECT{((g&#39;)^(-sigma2))*((c2p&#39;)^(-sigma2))| <span class="k">shock_trans</span>2}/(p*(c2^(-sigma2)));
  eq7 = lambda2*(1-kp1);
  eq8 = mu2*a2;  
  
  <span class="c">% market clear</span>
  mc = 1-a1-a2;  
  
  equity_premium_1 = GDSGE_EXPECT{(qp&#39;)/q*g&#39; | <span class="k">shock_trans</span>1} - 1/p;
  equity_premium_2 = GDSGE_EXPECT{(qp&#39;)/q*g&#39; | <span class="k">shock_trans</span>2} - 1/p;
  
  <span class="c">% Consistency</span>
  consis&#39; = (qp&#39;*kp1+bp1/g&#39;) / qp&#39; - Wp&#39;;
  
  Rq&#39; = qp&#39;*g&#39;/q; 
  <span class="k">equations;</span>
    1 - ((q+d)*W + e1 - q*kp1 - p*bp1)/c1;
    1 - ((q+d)*(1-W) + e2 - q*(1-kp1) - p*bp2)/c2;
    eq1;
    eq2;
    eq3;
    eq4;
    eq5;
    eq6;
    eq7;
    eq8;
    mc;
    consis&#39;;
  <span class="k">end;</span>
<span class="k">end;</span>

<span class="k">simulate;</span>
  <span class="k">num_samples</span> = 100;
  <span class="k">num_periods</span> = 10000;
  <span class="k">initial</span> W 0.5
  <span class="k">initial</span> shock 1;
  <span class="k">var_simu</span> q p;
  W&#39;= Wp&#39;;
<span class="k">end;</span>
</pre></div>
</td></tr></table></div>
<p>This should look familiar if you already saw the <a class="reference internal" href="../HL1996/HL1996.html#hl1996"><span class="std std-ref">Heaton and Lucas (1996)</span></a> example
(our toolbox algorithm to solve their model is also different from their original algorithm).
The new element of the model, heterogeneous belief, is incorporated in the following two lines</p>
<div class="highlight-GDSGE notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>89</pre></div></td><td class="code"><div class="highlight"><pre><span></span>  eq2 = -1 + mu1 + beta1*GDSGE_EXPECT{((g&#39;)^(-sigma1))*((c1p&#39;)^(-sigma1))| <span class="k">shock_trans</span>1}/(p*(c1^(-sigma1)));
</pre></div>
</td></tr></table></div>
<div class="highlight-GDSGE notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>93</pre></div></td><td class="code"><div class="highlight"><pre><span></span>  eq6 = -1 + mu2 + beta2*GDSGE_EXPECT{((g&#39;)^(-sigma2))*((c2p&#39;)^(-sigma2))| <span class="k">shock_trans</span>2}/(p*(c2^(-sigma2)));
</pre></div>
</td></tr></table></div>
<p>As shown, the <em>GDSGE_EXPECT</em> function takes an optional argument following operator | to explicitly specify the transition matrix
(with the default option given by <em>shock_trans</em>).
In the current example, the transition matrix used by the optimists and pessimists are defined in <em>shock_trans1</em> and <em>shock_trans2</em>, respectively. Notice <em>shock_trans1</em> and
<em>shock_trans2</em> need to be explicitly declared as <em>parameters</em> to be used in the model block.</p>
</div>
<div class="section" id="results">
<h2>Results<a class="headerlink" href="#results" title="Permalink to this headline">¶</a></h2>
<p>The following figure shows the equity premium as perceived by the optimists and the pessimists. The optimists believe that the likelihood of high dividend payment is higher than the pessimists do. Therefore, the optimists’ perceived equity premium is always higher, and they borrow from the pessimists to invest in stock.</p>
<a class="reference internal image-reference" href="../../_images/policy_equity_premium.png"><img alt="../../_images/policy_equity_premium.png" src="../../_images/policy_equity_premium.png" style="width: 473.0px; height: 406.0px;" /></a>
<p>In the ergodic distribution of wealth share in the following figure, using the pessimists’ beliefs as the correct beliefs, the optimists own large fractions of total wealth despite the fact that their beliefs are incorrect (because return to equity is higher than return to bond when the optimists’ wealth share is relatively low).</p>
<a class="reference internal image-reference" href="../../_images/histogram_w1.png"><img alt="../../_images/histogram_w1.png" src="../../_images/histogram_w1.png" style="width: 620.8000000000001px; height: 500.8px;" /></a>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Cao2020/Cao2020.html" class="btn btn-neutral float-right" title="Cao (2020): Continuum versus Finite Agents in Krusell and Smith (1998)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../KM1997/CaoNie2017.html" class="btn btn-neutral float-left" title="Cao and Nie (2017): Amplification and Asymmetry without Collateral Constraint" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Dan Cao, Wenlan Luo, and Guangyu Nie

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>